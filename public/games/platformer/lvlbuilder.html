<html>
	<head>
		<script>
			var active = null;
			var d = document.createElement("div");
			d.style.width = "23px";
			d.style.height = "23px";
			d.style.border = "1px solid black";
			d.style.float = "left";
			function render(event){
				if(event.target.block){
					while(event.target.firstChild){
						event.target.removeChild(event.target.firstChild);
					}
				}
				if(active == "block"){
					var bl = document.createElement('img');
					bl.src = "./Block.png";
					bl.style.width = "25px";
					bl.style.height = "25px";
					bl.id = "bl";
					event.target.appendChild(bl);
					event.target.block = "block";
				}
				if(active == "block_key"){
					var bl = document.createElement('img');
					bl.src = "./Block_key.png";
					bl.style.width = "25px";
					bl.style.height = "25px";
					bl.id = "bl";
					event.target.appendChild(bl);
					event.target.block = "block_key";
				}
				if(active == "item_key"){
					var bl = document.createElement('img');
					bl.src = "./item_key.png";
					bl.style.width = "25px";
					bl.style.height = "25px";
					bl.id = "bl";
					event.target.appendChild(bl);
					event.target.block = "item_key";
				}
				if(active == "delete" && event.target.id == 'bl'){
					event.target.parentElement.removeChild(event.target);				
				}
			}
			function paint(event){
				if(!mouse) return;
				render(event);	
			}
			function stopDrag(event){
				render(event);
				event.preventDefault();
			}
			window.onload = function(){
				var m = document.getElementById('main');
				for(var i = 0; i != (18 * 36); i++){
					var b = d.cloneNode();
					b.id = i + 1;
					m.appendChild(b);
					b.addEventListener("mouseover",  paint);
					b.addEventListener("mousedown",  stopDrag);
					b.addEventListener("click", render);
				}
			}
			function clickblock(event){
				switch(event.target.id){
					case "block":
						document.getElementById('main').style.cursor = 'url("./Block25x25.png"), auto';
						break;
					case "delete":
						document.getElementById('main').style.cursor = 'url("./Delete25x25.png"), auto';
						break;
					case "block_key":
						document.getElementById('main').style.cursor = 'url("./Block_key25x25.png"), auto';
						break;
					case "item_key":
						document.getElementById('main').style.cursor = 'url("./item_key25x25.png"), auto';
						break; 
					case "null":
						document.getElementById('main').style.cursor = 'default';
						break;
				}
				event.target.style.border="5px solid transparent";
				document.getElementById(active).style.border = '0px';
				active = event.target.id;
			}
			var mouse = false;
			document.onmousedown = function(){
				mouse = true;
			}
			document.onmouseup = function(){
				mouse = false;
			}
		</script>
		<style>
			* {
    				-webkit-touch-callout:none;
    				-webkit-user-select:none;
  				-moz-user-select:none;
    				-ms-user-select:none;
    				user-select:none;
			}
		</style>
	</head>
	<body id = "body">
		<div style="position:absolute;right:10px;top:10px;height:100%;width:50px;border: 1px solid black">
			<img src="./Block.png" onclick="clickblock(event)" id = "block"/>
			<img src="./Block_key.png" onclick="clickblock(event)" id = "block_key"/>
			<img src="./Delete.png" onclick="clickblock(event)" id = "delete"/>
			<div style="width:50px;height:50px;border 1px solid black" id = "null">Deselect</div>
		</div>
		<div style="width:900px;height:450px;" id="main"></div>
	</body>
</html>
